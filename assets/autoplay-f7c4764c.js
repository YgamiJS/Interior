import{n as H,o as R,p as N}from"./index-dda8daca.js";function _(t,D,r,u){return t.params.createElements&&Object.keys(u).forEach(i=>{if(!r[i]&&r.auto===!0){let d=H(t.el,`.${u[i]}`)[0];d||(d=R("div",u[i]),d.className=u[i],t.el.append(d)),r[i]=d,D[i]=d}}),r}function V({swiper:t,extendParams:D,on:r,emit:u}){D({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const i=a=>(Array.isArray(a)||(a=[a].filter(e=>!!e)),a);function d(a){let e;return a&&typeof a=="string"&&t.isElement&&(e=t.el.shadowRoot.querySelector(a),e)?e:(a&&(typeof a=="string"&&(e=[...document.querySelectorAll(a)]),t.params.uniqueNavElements&&typeof a=="string"&&e.length>1&&t.el.querySelectorAll(a).length===1&&(e=t.el.querySelector(a))),a&&!e?a:e)}function v(a,e){const n=t.params.navigation;a=i(a),a.forEach(o=>{o&&(o.classList[e?"add":"remove"](...n.disabledClass.split(" ")),o.tagName==="BUTTON"&&(o.disabled=e),t.params.watchOverflow&&t.enabled&&o.classList[t.isLocked?"add":"remove"](n.lockClass))})}function g(){const{nextEl:a,prevEl:e}=t.navigation;if(t.params.loop){v(e,!1),v(a,!1);return}v(e,t.isBeginning&&!t.params.rewind),v(a,t.isEnd&&!t.params.rewind)}function b(a){a.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),u("navigationPrev"))}function c(a){a.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),u("navigationNext"))}function m(){const a=t.params.navigation;if(t.params.navigation=_(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(a.nextEl||a.prevEl))return;let e=d(a.nextEl),n=d(a.prevEl);Object.assign(t.navigation,{nextEl:e,prevEl:n}),e=i(e),n=i(n);const o=(s,L)=>{s&&s.addEventListener("click",L==="next"?c:b),!t.enabled&&s&&s.classList.add(...a.lockClass.split(" "))};e.forEach(s=>o(s,"next")),n.forEach(s=>o(s,"prev"))}function h(){let{nextEl:a,prevEl:e}=t.navigation;a=i(a),e=i(e);const n=(o,s)=>{o.removeEventListener("click",s==="next"?c:b),o.classList.remove(...t.params.navigation.disabledClass.split(" "))};a.forEach(o=>n(o,"next")),e.forEach(o=>n(o,"prev"))}r("init",()=>{t.params.navigation.enabled===!1?E():(m(),g())}),r("toEdge fromEdge lock unlock",()=>{g()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:a,prevEl:e}=t.navigation;a=i(a),e=i(e),[...a,...e].filter(n=>!!n).forEach(n=>n.classList[t.enabled?"remove":"add"](t.params.navigation.lockClass))}),r("click",(a,e)=>{let{nextEl:n,prevEl:o}=t.navigation;n=i(n),o=i(o);const s=e.target;if(t.params.navigation.hideOnClick&&!o.includes(s)&&!n.includes(s)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===s||t.pagination.el.contains(s)))return;let L;n.length?L=n[0].classList.contains(t.params.navigation.hiddenClass):o.length&&(L=o[0].classList.contains(t.params.navigation.hiddenClass)),u(L===!0?"navigationShow":"navigationHide"),[...n,...o].filter(p=>!!p).forEach(p=>p.classList.toggle(t.params.navigation.hiddenClass))}});const T=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),m(),g()},E=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(t.navigation,{enable:T,disable:E,update:g,init:m,destroy:h})}function $({swiper:t,extendParams:D,on:r,emit:u,params:i}){t.autoplay={running:!1,paused:!1,timeLeft:0},D({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let d,v,g=i&&i.autoplay?i.autoplay.delay:3e3,b=i&&i.autoplay?i.autoplay.delay:3e3,c,m=new Date().getTime,h,T,E,a,e,n;function o(l){!t||t.destroyed||!t.wrapperEl||l.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",o),C())}const s=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?h=!0:h&&(b=c,h=!1);const l=t.autoplay.paused?c:m+b-new Date().getTime();t.autoplay.timeLeft=l,u("autoplayTimeLeft",l,l/g),v=requestAnimationFrame(()=>{s()})},L=()=>{let l;return t.virtual&&t.params.virtual.enabled?l=t.slides.filter(f=>f.classList.contains("swiper-slide-active"))[0]:l=t.slides[t.activeIndex],l?parseInt(l.getAttribute("data-swiper-autoplay"),10):void 0},p=l=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(v),s();let y=typeof l>"u"?t.params.autoplay.delay:l;g=t.params.autoplay.delay,b=t.params.autoplay.delay;const f=L();!Number.isNaN(f)&&f>0&&typeof l>"u"&&(y=f,g=f,b=f),c=y;const S=t.params.speed,I=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(S,!0,!0),u("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,S,!0,!0),u("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(S,!0,!0),u("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,S,!0,!0),u("autoplay")),t.params.cssMode&&(m=new Date().getTime(),requestAnimationFrame(()=>{p()})))};return y>0?(clearTimeout(d),d=setTimeout(()=>{I()},y)):requestAnimationFrame(()=>{I()}),y},A=()=>{t.autoplay.running=!0,p(),u("autoplayStart")},O=()=>{t.autoplay.running=!1,clearTimeout(d),cancelAnimationFrame(v),u("autoplayStop")},x=(l,y)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(d),l||(n=!0);const f=()=>{u("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",o):C()};if(t.autoplay.paused=!0,y){e&&(c=t.params.autoplay.delay),e=!1,f();return}c=(c||t.params.autoplay.delay)-(new Date().getTime()-m),!(t.isEnd&&c<0&&!t.params.loop)&&(c<0&&(c=0),f())},C=()=>{t.isEnd&&c<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(m=new Date().getTime(),n?(n=!1,p(c)):p(),t.autoplay.paused=!1,u("autoplayResume"))},k=()=>{if(t.destroyed||!t.autoplay.running)return;const l=N();l.visibilityState==="hidden"&&(n=!0,x(!0)),l.visibilityState==="visible"&&C()},q=l=>{l.pointerType==="mouse"&&(n=!0,x(!0))},B=l=>{l.pointerType==="mouse"&&t.autoplay.paused&&C()},M=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",q),t.el.addEventListener("pointerleave",B))},F=()=>{t.el.removeEventListener("pointerenter",q),t.el.removeEventListener("pointerleave",B)},P=()=>{N().addEventListener("visibilitychange",k)},j=()=>{N().removeEventListener("visibilitychange",k)};r("init",()=>{t.params.autoplay.enabled&&(M(),P(),m=new Date().getTime(),A())}),r("destroy",()=>{F(),j(),t.autoplay.running&&O()}),r("beforeTransitionStart",(l,y,f)=>{t.destroyed||!t.autoplay.running||(f||!t.params.autoplay.disableOnInteraction?x(!0,!0):O())}),r("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){O();return}T=!0,E=!1,n=!1,a=setTimeout(()=>{n=!0,E=!0,x(!0)},200)}}),r("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!T)){if(clearTimeout(a),clearTimeout(d),t.params.autoplay.disableOnInteraction){E=!1,T=!1;return}E&&t.params.cssMode&&C(),E=!1,T=!1}}),r("slideChange",()=>{t.destroyed||!t.autoplay.running||(e=!0)}),Object.assign(t.autoplay,{start:A,stop:O,pause:x,resume:C})}export{$ as A,V as N};
